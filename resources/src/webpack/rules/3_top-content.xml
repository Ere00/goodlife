<?xml version="1.0" encoding="UTF-8"?>
<rules
    xmlns="http://namespaces.plone.org/diazo"
    xmlns:css="http://namespaces.plone.org/diazo/css"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  <!-- Append title when authoring -->
  <prepend css:theme=".top-content">
    <div class="top-content-full">
      <xsl:apply-templates css:select="#content h1.documentFirstHeading" />
    </div>
  </prepend>

  <!-- Replace theme main content with Plone main content -->
  <replace
      css:theme-children=".top-content"
      css:if-content="#content-core">
    <div class="top-content-full">
      <xsl:apply-templates css:select=".documentDescription" />
      <xsl:apply-templates css:select="#content-core > *" />
    </div>
  </replace>

  <replace
      css:theme-children=".top-content"
      css:if-not-content="#content-core">
    <div class="top-content-full">
      <xsl:apply-templates css:select="#content > *" />
    </div>
  </replace>

</rules>
